<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.min.js"
      integrity="sha512-ykZ1QQr0Jy/4ZkvKuqWn4iF3lqPZyij9iRv6sGqLRdTPkY69YX6+7wvVGmsdBbiIfN/8OdsI7HABjvEok6ZopQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- axios -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js"
      integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <link rel="stylesheet" href="style.css" />

    <title>title</title>
  </head>

  <body>
    <div id="app" class="position-relative d-flex">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1440 1000"
        class="position-fixed"
      >
        <path
          fill="#dad7cd"
          fill-opacity="1"
          style="transform: translateY(250px)"
          d="M0,160L26.7,181.3C53.3,203,107,245,160,229.3C213.3,213,267,139,320,128C373.3,117,427,171,480,197.3C533.3,224,587,224,640,234.7C693.3,245,747,267,800,240C853.3,213,907,139,960,128C1013.3,117,1067,171,1120,213.3C1173.3,256,1227,288,1280,272C1333.3,256,1387,192,1413,160L1440,128L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
        ></path>
        <path
          fill="#a3b18a"
          fill-opacity="1"
          style="transform: translateY(200px)"
          d="M0,160L26.7,181.3C53.3,203,107,245,160,229.3C213.3,213,267,139,320,128C373.3,117,427,171,480,197.3C533.3,224,587,224,640,234.7C693.3,245,747,267,800,240C853.3,213,907,139,960,128C1013.3,117,1067,171,1120,213.3C1173.3,256,1227,288,1280,272C1333.3,256,1387,192,1413,160L1440,128L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
        ></path>
        <path
          fill="#588157"
          fill-opacity="1"
          style="transform: translateY(150px)"
          d="M0,160L26.7,181.3C53.3,203,107,245,160,229.3C213.3,213,267,139,320,128C373.3,117,427,171,480,197.3C533.3,224,587,224,640,234.7C693.3,245,747,267,800,240C853.3,213,907,139,960,128C1013.3,117,1067,171,1120,213.3C1173.3,256,1227,288,1280,272C1333.3,256,1387,192,1413,160L1440,128L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
        ></path>
        <path
          fill="#3a5a40"
          fill-opacity="1"
          style="transform: translateY(100px)"
          d="M0,160L26.7,181.3C53.3,203,107,245,160,229.3C213.3,213,267,139,320,128C373.3,117,427,171,480,197.3C533.3,224,587,224,640,234.7C693.3,245,747,267,800,240C853.3,213,907,139,960,128C1013.3,117,1067,171,1120,213.3C1173.3,256,1227,288,1280,272C1333.3,256,1387,192,1413,160L1440,128L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
        ></path>
        <path
          fill="#344e41"
          fill-opacity="1"
          style="transform: translateY(50px)"
          d="M0,160L26.7,181.3C53.3,203,107,245,160,229.3C213.3,213,267,139,320,128C373.3,117,427,171,480,197.3C533.3,224,587,224,640,234.7C693.3,245,747,267,800,240C853.3,213,907,139,960,128C1013.3,117,1067,171,1120,213.3C1173.3,256,1227,288,1280,272C1333.3,256,1387,192,1413,160L1440,128L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
        ></path>
        <path
          fill="#1db954"
          fill-opacity="1"
          d="M0,160L26.7,181.3C53.3,203,107,245,160,229.3C213.3,213,267,139,320,128C373.3,117,427,171,480,197.3C533.3,224,587,224,640,234.7C693.3,245,747,267,800,240C853.3,213,907,139,960,128C1013.3,117,1067,171,1120,213.3C1173.3,256,1227,288,1280,272C1333.3,256,1387,192,1413,160L1440,128L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
        ></path>
      </svg>
      <div class="position-relative z-2 pt-5 w-25">
        <div class="container header d-flex flex-column position-fixed w-25">
          <div class="d-flex flex-column">
            <div class="d-flex flex-column">
              <h1 class="me-3 text-white">BOOLIFY</h1>
              <input
                type="text"
                v-model="newDisc.title"
                class="form-control my-input"
                placeholder="titolo"
              />
              <input
                type="text"
                v-model="newDisc.author"
                class="form-control my-input"
                placeholder="autore"
              />
            </div>
            <div class="d-flex flex-column">
              <input
                type="text"
                v-model="newDisc.year"
                class="form-control my-input"
                placeholder="anno"
              />
              <input
                type="text"
                v-model="newDisc.genre"
                class="form-control my-input"
                placeholder="genere"
              />
            </div>
            <input
              type="text"
              v-model="newDisc.poster"
              class="form-control my-input"
              placeholder="url immagine"
            />
          </div>
          <div class="d-flex align-items-end">
            <button @click.stop="sendData()">invia</button>
          </div>
        </div>
      </div>
      <div class="container d-flex flex-wrap justify-content-center">
        <div
          v-for="(item, index) in discList"
          :key="index"
          class="card my-card"
        >
          <img
            :src="item.poster"
            class="card-img-top my-img"
            :alt="item.author"
          />
          <div class="card-body position-relative">
            <h3 class="card-title">{{ item.author}}</h3>
            <h5 class="card-text">{{ item.title }}</h5>
          </div>

          <span
            class="btn heart"
            v-if="item.liked==undefined"
            @click="addLike(index)"
          >
            &hearts;
          </span>
          <span
            class="btn text-light heart"
            v-show="item.liked"
            @click="toggleLike(index)"
          >
            &hearts;
          </span>
          <span
            class="btn heart"
            v-if="item.liked==false"
            @click="toggleLike(index)"
          >
            &hearts;
          </span>

          <div class="d-flex justify-content-end">
            <button
              class="button-64 me-3"
              role="button"
              type="button"
              class="btn btn-success w-50"
              data-bs-toggle="modal"
              :data-bs-target="'#exampleModal' + index"
            >
              <span class="text">more info</span>
            </button>
            <!-- ho modificato il adta-target in modo che mi aprisse la modal dell' item e non sempre la prima -->

            <button
              class="button-64"
              role="button"
              @click.stop="deleteDisc(index)"
            >
              <span class="text"> delete</span>
            </button>
          </div>
          <!-- Modal -->
          <!-- modifico l' id per generare id sempre diversi  -->
          <div
            class="modal fade"
            :id="'exampleModal' + index"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content bg-secondary-subtle">
                <div class="modal-header bg-black text-white bg-gradient p-3">
                  <h1 class="modal-title" id="exampleModalLabel">
                    {{item.author}}
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div
                  class="modal-body text-black text-start ms-5 mt-4 bg-secondary-subtle"
                >
                  <h3>{{ item.title }}</h3>
                  <h4>Anno di pubblicazione: {{ item.year }}</h4>
                  <h4>Genere: {{ item.genre }}</h4>
                </div>
                <div class="modal-footer bg-secondary-subtle">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="main.js"></script>
  </body>
</html>
